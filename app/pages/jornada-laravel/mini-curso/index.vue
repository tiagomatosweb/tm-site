<template>
  <div>
    <UPageSection
      orientation="horizontal"
      title="Descubra os 7 Princ칤pios Essenciais do Laravel."
      :ui="{
        title: 'lg:text-4xl'
      }"
    >
      <template #description>
        <div class="heading-3 text-toned">Aprenda o que separa o dev que copia do que domina de verdade.</div>

        <div class="mt-3">
          Mais de <span class="tm-gradient">4.000 devs</span> j치 est칚o recebendo dicas pr치ticas por e-mail.
          Entre pro grupo que est치 elevando o n칤vel com fundamentos s칩lidos e aplic치veis no mundo real.
        </div>
      </template>

      <CodeIDE>
        <div
          v-if="isSent"
          class="text-lg flex flex-col gap-4"
        >
          <p>Boa {{ user?.name || 'jovem' }}, seu e-mail foi adicionado com sucesso!</p>
          <p>Fica de olho que em breve voc칡 vai come칞ar a receber os conte칰dos sobre os 7 Princ칤pios Essenciais do
            Laravel.</p>
          <p>Bora dominar esse framework do jeito certo! 游눹游댠</p>
          <p>Abs, TM</p>
        </div>

        <LeadGenForm
          v-else
          :button-props="{
            label: 'Come칞ar o minicurso gratuito'
          }"
          :groups-id="[mailerliteGroups.LARAVEL_INTERESSE]"
          @done="onDone"
        />
      </CodeIDE>
    </UPageSection>

    <PageTestimonial/>
  </div>
</template>

<script setup>
import CodeIDE from '~/components/Codesnippet/CodeIDE.vue';
import LeadGenForm from '~/components/Leadgen/LeadGenForm.vue';
import PageTestimonial from '~/components/Page/PageTestimonial.vue';

definePageMeta({
  layout: 'lp',
})

const user = ref({});
const isSent = ref(false);

function onDone(data) {
  isSent.value = true
  user.value = data
}
</script>
